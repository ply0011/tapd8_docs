# Tapdata 更新

## 版本 1.2.0

### 依赖

无

### 弃用

无

### 新增功能

- 数据发布
    - 支持多核并发
    - API 浏览
        - 增加查询时间
    - API 发布
        - 支持模糊搜索 API
        - 支持对自定义接口的可选、必须参数
        - 支持默认最小返回行数和最大返回行数
    - API 服务器
        - 支持分布式部署
        - 支持自定义 API 服务器
- 数据采集
    - 支持跨库查询
    - 内置时间转换函数
    - 内置UUID函数
- UI
    - 菜单栏分类
- 其他
    - 支持 OAuth 认证
    - 新增权限管理

### 修复错误

- 数据发布
    - 新建API，基础路径提示不能超过30个，实际输入无限制
    - 表名带“-”，修改后保存成功。再打开时，还是“-”，并且不能编辑

        补充：对基础路径修改后，未生效

    - 数据浏览，有权限，会出现：EndPoint Get /api/v1/xxxx not found
    - 注册用户无法登陆


- 数据采集
    - 分布式 agent 部署，导致任务详情页的各统计数字显示不正确
    - 编辑任务页面，二次编辑页面，“target path” 属性不回显，导致任务出错
- 数据源
    - 连接类型为源端和目标端，列表中的“连接类型”列显示为空


## 版本 1.1.0

### 依赖

无

### 弃用

无

### 新增功能

- API Server
- 元数据编目
- 数据质量校验

### 修复错误

## 版本 1.0.1

### 依赖

无

### 弃用

无

### 新增功能

无

### 修复错误

1. 在初始同步分片群集之前需要手动操作

    这适用于MongoDB  -  MongoDB复制。

    为了提高初始同步速度，Tapdata直接连接到每个分片以执行初始同步。这可能导致孤立的文档被复制到目标集群。要防止复制孤立文档，可以在开始复制作业之前执行以下任务：

    - 停止平衡器。请参阅https://docs.mongodb.com/manual/reference/method/sh.stopBalancer/
    - 清理孤立的文档。请参阅https://docs.mongodb.com/manual/reference/command/cleanupOrphaned/

2. 不使用自定义SQL时，无法在中断时恢复初始同步

    虽然Tapdata通常可以在作业停止或中断后恢复复制，但如果未使用自定义SQL，则无法恢复初始同步。如果由于某种原因在初始同步阶段停止了作业，则在重新启动时，Tapdata将从开始读取源数据库中的数据。

3. 不使用自定义SQL时，无法恢复初始同步

    将复制作业从关系数据库运行到MongoDB时，如果作业在初始加载期间中断，则Tapdata将在作业重新启动时从头开始。

    例外情况是，如果您使用自定义SQL从关系数据库加载数据。在这种情况下，作业可能能够从被中断的点恢复。

4. 在源数据库上执行DDL操作之前暂停作业。

    CDC复制期间尚不支持Oracle / MySQL / SQLServer DDL操作。在运行DDL操作（例如drop table，alter table等）之前，请务必先停止复制作业。您可以在DDL操作完成后恢复作业。

5. DEV-1013：当存在没有主键的表时，复制进度可能无法正常工作

    没有主键的表不会在数据库克隆模式下复制。发生这种情况时，复制进度可能一直显示源和目标之间的存在延迟。